<script src="/resources/node_modules/chart.js/dist/Chart.min.js"></script>

{{>navigation}}
<div class="dt-content-wrapper">
    <div class="dt-content datos-planeacion">
        <div class="dt-page-header">
             <p id="datames" style="display:none" >{{consulta5}}  </p>
             <p id="dataaño" style="display:none"  >{{consulta4}}  </p>
               
                    <div class="col-md-12">
                    <h1 class="dt-page__title"> DINERO DE BONO POR MES  </h1>
                    <canvas id="myChart3"></canvas>
                    <br>
                    <div class="col-md-12">
                    <h1 class="dt-page__title">DINERO DE BONO POR AÑO </h1>
                    <canvas id="myChart2"></canvas>
                    <br>
                    <br>
                    <a href="/gestionbonos" class="btn btn-primary">atras</a>  
                <div>
        </div>
    </div>
</div>

<script> 
    /*****************GRAFICA por año ******************/
    let cv2 = document.getElementById('myChart2');
    let ctx2 = cv2.getContext('2d');

    let labels1= [];
    let mes1= [];
    
    let data = JSON.parse($("#dataaño").text());
    data.forEach(element => {
        console.log(element.idOrder)
        console.log(element.empresa)
     
        labels1.push(element.idOrder);
        mes1.push(element.empresa);
        
    });

    let chart2 = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: labels1,
            datasets: [
                {
                    borderColor: "yellow",
                    label: "POR AÑO  ",
                    data: mes1
                }
            ]
        },
        options: {responsive: true}
    });
     /************************************/
      /*****************GRAFICA 2*******************/
    let cv22 = document.getElementById('myChart3');
    let ctx22 = cv22.getContext('2d');

    let labels= [];
    let dataEmpresa= [];
    let data1 = JSON.parse($("#datames").text());
    console.log(data1)
    
    data1.forEach(element => {
        let mes = "";

        if(element.idOrder == 1) mes = element.idOrdera+" Enero";
        if(element.idOrder == 2) mes = element.idOrdera+" Febrero";
        if(element.idOrder == 3) mes = element.idOrdera+" Marzo";
        if(element.idOrder == 4) mes = element.idOrdera+" Abril";
        if(element.idOrder == 5) mes = element.idOrdera+" Mayo";
        if(element.idOrder == 6) mes = element.idOrdera+" Junio";
        if(element.idOrder == 7) mes = element.idOrdera+" Julio";
        if(element.idOrder == 8) mes = element.idOrdera+" Agosto";
        if(element.idOrder == 9) mes = element.idOrdera+" Septiembre";
        if(element.idOrder == 10) mes = element.idOrdera+" Octubre";
        if(element.idOrder == 11) mes = element.idOrdera+" Noviembre";
        if(element.idOrder == 12) mes = element.idOrdera+" Diciembre";
        
        console.log(element.idOrdera)
        labels.push(mes);
        dataEmpresa.push(element.empresa);
    });

    let chart3 = new Chart(ctx22, {
        type: 'line',
        data: {
            labels: labels , 
            datasets: [
                {
                    borderColor: "blue",
                    label: "CADA MES ",
                    data: dataEmpresa 
                }
                
            ]
        },
        options: {responsive: true}
    });
/************************************/

</script>
